import React, { useState, useEffect } from "react";
import "./MenuPreview.css";
import Banner from "../assets/fragment_cyan.png";
import {
  FaUser,
  FaProjectDiagram,
  FaBolt,
  FaEye,
  FaCube,
  FaCar,
  FaSkullCrossbones,
  FaSearch,
  FaCog,
} from "react-icons/fa";

const rows = [
  { icon: <FaUser />, label: "Client" },
  { icon: <FaProjectDiagram />, label: "Network" },
  { icon: <FaBolt />, label: "Combat" },
  { icon: <FaEye />, label: "Visuals" },
  { icon: <FaCube />, label: "World" },
  { icon: <FaCar />, label: "Vehicle" },
  { icon: <FaSkullCrossbones />, label: "Misc" },
  { icon: <FaCog />, label: "Settings" },
  { icon: <FaSearch />, label: "Search" },
];

function MenuPreview() {
  const [active, setActive] = useState(0);

  useEffect(() => {
    const handle = (e) => {
      if (e.key === "ArrowDown" && active < rows.length - 1)
        setActive((p) => p + 1);
      if (e.key === "ArrowUp" && active > 0)
        setActive((p) => p - 1);
    };
    window.addEventListener("keydown", handle);
    return () => window.removeEventListener("keydown", handle);
  }, [active]);

  return (
    <div className="menu-overlay-demo">
      <div className="menu-wrapper-demo">

        <div className="banner-container-demo">
          <img src={Banner} alt="banner" />
        </div>

        <div className="category-block-demo">
          <div className="category-demo active"><span>Home</span></div>
        </div>

        <div className="menuitems-list-demo">
          {rows.map((row, i) => (
            <div
              key={i}
              className={`menuitem-demo ${i === active ? "active" : ""}`}
              onMouseEnter={() => setActive(i)}
            >
              <span className="icn">{row.icon}</span> {row.label}
            </div>
          ))}
        </div>

        <div className="footer-info-block-demo">
          <span className="footer-fragment-demo">BETA</span>
          | v1.0.0
          <div className="footer-right-demo">
            <span></span>
            <span>{active + 1}/{rows.length}</span>
          </div>
        </div>
      </div>
    </div>
  );
}

export default MenuPreview;
